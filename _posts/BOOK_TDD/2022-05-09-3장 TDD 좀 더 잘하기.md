---
title: 3장 TDD 좀 더 잘하기
date: 2022-05-09 10:52:32 +0900
categories: [BOOK, TDD 실천법과 도구]
tags: [tdd]  # TAG는 반드시 소문자로 이루어져야함!
---

### 3.1 테스트 케이스 클래스의 위치
단위 테스트 케이스를 소스 구조 안에서 어디에 놓을 것인지 결정해야 한다.

1)테스트 대상 소스와 테스트 클래스를 같은 곳에

테스트 클래스와 같은 패키지 내에 놓는 가장 기본적인 형태이다. 간단한 테스트 생성시 외에 사용하지 않는다.

2)테스트 클래스는 하위 패키지로

예) src/bank - 제품코드 클래스, src/bank/test - 테스트 케이스 클래스

3)최상위 패키지를 분리

제품 클래스는 main 패키지에, test 클래스는 test 패키지에 따로 분리

흔히 많이 사용하는 방식으로 최상위 패키지부터 업무 코드와 테스트 코드를 분리해서 작성할 수 있다. 단점으로는 default, protected로 선언된 메소드들에 대해서는 테스트 코드를 작성할 수 없다.

4)소스 폴더는 다르게, 패키지는 동일, 컴파일된 클래스는 각각 다른 곳으로

<img src="/assets/img/posting_img/book/TDD/test코드경로.jpeg" width="500px">

장점으로 대상 클래스와 테스트 클래스를 동일한 패키지로 선언할 수 있고, 접근 범위 default, protected로 선언된 메소드도 테스트 케이스로 작성할 수 있다.
또 대상 클래스와 테스트 클래스의 위치가 최상위 폴더부터 다르게 만들어지기 때문에 서로 섞일 염려가 없다. 따라서 가장 권장하는 스타일이다.

5)테스트를 프로젝트로 분리

동일 프로젝트 내에 제품 코드 클래스와 테스트 클래스가 함께 존재하면 각자 사용하는 라이브러리를 클래스패스로 공유하게 된다. 따라서 외부 라이브러리 의존 관계를 좀 더 확실하게 구분하고자 할 때는 프로젝트 단위로 분리해 놓기도 한다.

이클립스 기준) Test 프로젝트를 생성하고 Java Build Path 항목의 Project > Add > 참조할 클래스 추가, 이렇게 하면 JUnit 라이브러리조차 필요 없어진다.

6)메이븐 스타일
* /src/main/java : 제품 코드가 들어가는 위치
* /src/main/resource : 제품 코드에서 사용하는 각종 파일, XML 등의 리소스 파일
* /src/test/java : 테스트 코드가 들어가는 위치
* /src/test/resource : 테스트 코드에서 사용하는 각종 파일, XML 등의 리소스 파일
