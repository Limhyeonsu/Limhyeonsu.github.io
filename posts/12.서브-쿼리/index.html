<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="서브 쿼리" /><meta property="og:locale" content="en" /><meta name="description" content="쿼리 블록은 다른 쿼리 블록을 포함할 수 있다. 다른 쿼리 블록에 포함된 쿼리 블록을 서브 쿼리, 다른 쿼리 블록을 포함한 쿼리 블록을 메인 쿼리라고 한다." /><meta property="og:description" content="쿼리 블록은 다른 쿼리 블록을 포함할 수 있다. 다른 쿼리 블록에 포함된 쿼리 블록을 서브 쿼리, 다른 쿼리 블록을 포함한 쿼리 블록을 메인 쿼리라고 한다." /><link rel="canonical" href="https://limhyeonsu.github.io/posts/12.%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC/" /><meta property="og:url" content="https://limhyeonsu.github.io/posts/12.%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC/" /><meta property="og:site_name" content="Hyeonsu Lim" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-10T00:05:37+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="서브 쿼리" /><meta name="twitter:site" content="@imhyeon99494867" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-02-13T23:31:30+09:00","datePublished":"2023-02-10T00:05:37+09:00","description":"쿼리 블록은 다른 쿼리 블록을 포함할 수 있다. 다른 쿼리 블록에 포함된 쿼리 블록을 서브 쿼리, 다른 쿼리 블록을 포함한 쿼리 블록을 메인 쿼리라고 한다.","headline":"서브 쿼리","mainEntityOfPage":{"@type":"WebPage","@id":"https://limhyeonsu.github.io/posts/12.%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC/"},"url":"https://limhyeonsu.github.io/posts/12.%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC/"}</script><title>12. 서브 쿼리 | Hyeonsu Lim</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hyeonsu Lim"><meta name="application-name" content="Hyeonsu Lim"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile_img.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hyeonsu Lim</a></div><div class="site-subtitle font-italic">Developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/Limhyeonsu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/imhyeon99494867" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gustn72096','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>12. 서브 쿼리</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>12. 서브 쿼리</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/imhyeon99494867">Lim Hyeonsu</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1675955137" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-02-10 </em> </span> <span> Updated <em class="timeago" data-ts="1676298690" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-02-13 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1924 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><p>쿼리 블록은 다른 쿼리 블록을 포함할 수 있다. 다른 쿼리 블록에 포함된 쿼리 블록을 서브 쿼리, 다른 쿼리 블록을 포함한 쿼리 블록을 메인 쿼리라고 한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre># 예) 급여가 평균 이상인 사원 조회
SELECT ename, sal
FROM emp
WHERE sal &gt;= (SELECT AVG(sal) FROM emp);
</pre></table></code></div></div><p>서브 쿼리는 사용 위치에 따라 분류된다.</p><ul><li>중첩 서브쿼리 (nested subquery) : WHERE 절, HAVING절<li>스칼라 서브 쿼리 (scalar subquery) : SELECT 절<li>인라인 뷰 (inline view) : FROM 절</ul><h2 id="121-중첩-서브-쿼리"><span class="mr-2">12.1 중첩 서브 쿼리</span><a href="#121-중첩-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>중첩 서브쿼리는 메인 쿼리와의 상관 관계가 없으면 비상관 서브쿼리, 상관 관계가 있으면 상관 서브쿼리로 구분할 수 있다. 그리고 서브 쿼리가 반환하는 행의 개수에 따라 단일 행 서브 쿼리와 다중 행 서브쿼리로도 구분할 수 있다.</p><h3 id="1211-비상관-서브-쿼리"><span class="mr-2">12.1.1 비상관 서브 쿼리</span><a href="#1211-비상관-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>서브 쿼리의 WHERE 절에 메인 쿼리와의 조인 조건이 존재하지 않는다. 서브 쿼리가 반환하는 행의 개수에 따라 단일 행 비상관 서브 쿼리와 다중 행 비상관 서브 쿼리로 구분할 수 있다.</p><p><strong>단일 행 비상관 서브 쿼리</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre># 단일 행
SELECT *
FROM t1
WHERE c1 = (SELECT MAX(c1) AS c1 FROM t2);

# 다중 열 서브쿼리
SELECT *
FROM t1
WHERE (c1, c2) = (SELECT MAX(c1), MAX(c2) FROM t2);
</pre></table></code></div></div><p><strong>다중 행 비상관 서브 쿼리</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre># IN 조건
SELECT *
FROM t1
WHERE c1 IN (SELECT c1 FROM t2);

# NOT IN 조건
SELECT *
FROM t1
WHERE c1 NOT IN (SELECT c1 FROM t2); -- 열의 값에 null이 있는 경우 결과가 반환되지 않는다. AND NULL은 항상 UNKNOWN이기 때문에 결과가 반환되지 않는다.

# ANY(일부), ALL(전체)
SELECT *
FROM t1
WHERE c1 &gt; ANY(SELECT c1 FROM t2);
</pre></table></code></div></div><h3 id="1212-상관-서브-쿼리"><span class="mr-2">12.1.2 상관 서브 쿼리</span><a href="#1212-상관-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>메인 쿼리와 관계가 있는 서브 쿼리로 서브 쿼리의 WHERE 절에 메인 쿼리와의 조인 조건이 존재한다.</p><p><strong>단일 행 상관 서브 쿼리</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>SELECT a.*
FROM t1 a
WHERE a.c2 = (SELECT MAX(x.c2)
              FROM t2 x
              WHERE x.c1 = a.c1); -- 메인 쿼리와 조인 조건
</pre></table></code></div></div><p><strong>다중 행 상관 서브 쿼리</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre># EXISTS 조건 : 서브 쿼리에 존재하는 행 반환
SELECT a.*
FROM t1 a
WHERE EXISTS (SELECT 1 FROM t2 x WHERE x.c1 = a.c1);

# NOT EXISTS 조건 : 서브 쿼리에 존재하지 않는 행 반환
SELECT a.*
FROM t1 a
WHERE NOT EXISTS (SELECT 1 FROM t2 x WHERE x.c1 = a.c1);
</pre></table></code></div></div><h3 id="1213-사용-기준"><span class="mr-2">12.1.3 사용 기준</span><a href="#1213-사용-기준" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="table-wrapper"><table><thead><tr><th>행<th>비상관 서브 쿼리<th>상관 서브 쿼리<tbody><tr><td>단일 행<td>비교 조건<td>비교 조건<tr><td>다중 행<td>IN, NOT IN<td>EXISTS, NOT EXISTS</table></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre># 단일 행 비상관 서브 쿼리 : 메인 쿼리에 단일 값을 입력할 때 사용 예) MAX(), = 등호조회
SELECT 고객번호, 고객명
FROM 고객
WHERE 고객번호 = (SELECT MAX(주문고객번호) KEEP (DENSE_RANK FIRST ORDER BY 주문일자 DESC) FROM 주문);

# 단일 행 상관 서브 쿼리 : 메인 쿼리의 열을 서브 쿼리의 결과와 비교할 때 사용
SELECT a.고객번호, b.주문번호, b.주문일자
FROM 개인고객 a, 주문 b
WHERE b.주문고객번호 = a.고객번호
AND b.주문일자 = (SELECT MAX(x.주문일자) FROM 주문 x WHERE x.주문고객번호 = a.고객번호);

# 다중행 서브쿼리 : IN 조건(서브쿼리 먼저조회 -&gt; 메인쿼리에 값 공급), EXISTS 조건(메인쿼리 먼저 조회 -&gt; 서브쿼리로 존재여부 확인)
</pre></table></code></div></div><h2 id="122-스칼라-서브-쿼리"><span class="mr-2">12.2 스칼라 서브 쿼리</span><a href="#122-스칼라-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>스칼라 서브쿼리는 SELECT 절에 사용하는 서브 쿼리다. 스칼라는 단일 값을 의미한다. 따라서 다중 행이 반환되며 에러가 발생한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>SELECT a.c1, (SELECT MAX(x.c2) FROM t2 x WHERE x.c1 = a.c1) AS c2
FROM t1 a;
</pre></table></code></div></div><h2 id="123-인라인-뷰"><span class="mr-2">12.3 인라인 뷰</span><a href="#123-인라인-뷰" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>인라인 뷰는 FROM 절에서 사용하는 서브 쿼리이다. 인라인 뷰는 쿼리에서 즉시 처리되는 뷰를 의미한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>SELECT a.dname, b.ename
FROM (SELECT * FROM dept WHERE loc = 'DALLAS') a
   , (SELECT * FROM emp WHERE job = 'CLERK') b
WHERE b.detno = a.deptno;
</pre></table></code></div></div><h2 id="124-사용-기준"><span class="mr-2">12.4 사용 기준</span><a href="#124-사용-기준" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="조인"><span class="mr-2">조인</span><a href="#조인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>조인은 테이블을 연결하는 기본 방식이다. 조인 기준의 행이 줄어들거나 늘어날 수 있다.</p><h3 id="중첩-서브-쿼리"><span class="mr-2">중첩 서브 쿼리</span><a href="#중첩-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>중첩 서브 쿼리는 서브 쿼리로 메인 쿼리의 결과 집합을 제한할 때 사용한다. EXISTS 조건은 조인되는 값의 종류가 적고, 서브 쿼리 테이블의 크기가 클 때 유용하다. 메인 쿼리와 서브 쿼리의 조인 차수가 1:M일 때 사용하는 것이 일반적이다.</p><p>NOT EXISTS 조건은 메인 쿼리와 서브 쿼리의 조인 차수에 관계 없이 모두 사용할 수 있다. 아우터 조인으로도 작성 가능하다 가독성 측면에서는 NOT EXISTS 조건을 사용하는 편이 바람직 하다.</p><h3 id="스칼라-서브-쿼리"><span class="mr-2">스칼라 서브 쿼리</span><a href="#스칼라-서브-쿼리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>스칼라 서브쿼리는 서브 쿼리로 단일 값을 조회할 때 사용한다. 스칼라 서브 쿼리는 조인되는 값의 종류가 적고, 서브 쿼리 테이블의 크기가 클 때 유용하다. (1:M일때 사용)그렇지 않다면 인라인 뷰로 변경하는 편이 성능 측면에서 유용하다.</p><h3 id="인라인-뷰"><span class="mr-2">인라인 뷰</span><a href="#인라인-뷰" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>복합 뷰는 인라인 뷰로 새로운 결과 집합을 만들거나 조인 차수를 1:1 관계로 만들 때 사용한다. 단순 뷰는 조인 순서를 제어하거나 반복되는 표현식을 제거할 때 사용할 수 있다.</p><h2 id="125-with-절"><span class="mr-2">12.5 WITH 절</span><a href="#125-with-절" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>WITH 절을 사용하면 서브 쿼리를 별도의 절(SUBQUERY FACTORING 절)에 기술할 수 있다.</p><h3 id="1251-subquery-factoring-절"><span class="mr-2">12.5.1 SUBQUERY FACTORING 절</span><a href="#1251-subquery-factoring-절" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이 절을 사용하면 서브 쿼리에 이름을 부여하고, 이름이 부여된 서브 쿼리를 메인 쿼리에서 반복 사용할 수 있다. <code class="language-plaintext highlighter-rouge">WITH query_name AS (subquery) ... SELECT ...</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>WITH w1 AS (SELECT deptno, SUM(sal) AS sal FROM emp GROUP BY deptno)
SELECT a.deptno, b.dname, a.sal
FROM w1 a, dept b
WHERE b.deptno = a.deptno;
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>WITH w1 AS (SELECT deptno, SUM(sal) AS sal FROM emp GROUP BY deptno)
   , w2 AS (SELECT SUM(sal) AS sal FROM w1)
SELECT a.deptno, a.dname, b.sal, (b.sal / c.sal) * 100 AS rt
FROM dept a, w1 b, w2 c
WHERE b.deptno = a.deptno;
</pre></table></code></div></div><h3 id="1252-plsql-선언"><span class="mr-2">12.5.2 PL/SQL 선언</span><a href="#1252-plsql-선언" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>12.1 버전부터 WITH 절애 PL/SQL 함수와 프로시저를 선언할 수 있다.</p><h2 id="126-신규-기능"><span class="mr-2">12.6 신규 기능</span><a href="#126-신규-기능" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="1261-lateral-인라인-뷰"><span class="mr-2">12.6.1 LATERAL 인라인 뷰</span><a href="#1261-lateral-인라인-뷰" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>LATERAL 인라인 뷰를 사용하면 인라인 뷰에 메인 쿼리의 열을 기술할 수 있다. LATERAL 인라인 뷰 뒤에 (+) 기호를 사용하면 아우터 조인으로 조인된다.</p><h3 id="1262-cross-apply-절"><span class="mr-2">12.6.2 CROSS APPLY 절</span><a href="#1262-cross-apply-절" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>CROSS APPLY 절을 사용하면 LATERAL 인라인 뷰의 이너 조인과 결과가 동일하다.</p><h3 id="1263-outer-apply-절을-사용할-수-있다"><span class="mr-2">12.6.3 OUTER APPLY 절을 사용할 수 있다.</span><a href="#1263-outer-apply-절을-사용할-수-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>OUTER APPLY 절은 LEFT OUTER JOIN의 변형이다.</p><h3 id="1264-기존-동작-변화"><span class="mr-2">12.6.4 기존 동작 변화</span><a href="#1264-기존-동작-변화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>12.1 버전 이전에 서브 쿼리에 메인 쿼리의 조건을 기술하면 에러가 발생했으나 이후 버전부터는 에러가 발생하지 않는다. 스칼라 서브쿼리도 서브쿼리에 메인 쿼리의 조건을 기술할 수 있다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/book/'>BOOK</a>, <a href='/categories/%EB%B6%88%EC%B9%9C%EC%A0%88%ED%95%9C-sql-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/'>불친절한 SQL 프로그래밍</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/sql/" class="post-tag no-text-decoration" >sql</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=12.+%EC%84%9C%EB%B8%8C+%EC%BF%BC%EB%A6%AC+-+Hyeonsu+Lim&url=https%3A%2F%2Flimhyeonsu.github.io%2Fposts%2F12.%25EC%2584%259C%25EB%25B8%258C-%25EC%25BF%25BC%25EB%25A6%25AC%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=12.+%EC%84%9C%EB%B8%8C+%EC%BF%BC%EB%A6%AC+-+Hyeonsu+Lim&u=https%3A%2F%2Flimhyeonsu.github.io%2Fposts%2F12.%25EC%2584%259C%25EB%25B8%258C-%25EC%25BF%25BC%25EB%25A6%25AC%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Flimhyeonsu.github.io%2Fposts%2F12.%25EC%2584%259C%25EB%25B8%258C-%25EC%25BF%25BC%25EB%25A6%25AC%2F&text=12.+%EC%84%9C%EB%B8%8C+%EC%BF%BC%EB%A6%AC+-+Hyeonsu+Lim" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="Limhyeonsu/Limhyeonsu.github.io" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/15.Top-N%EC%BF%BC%EB%A6%AC/">15. Top-N 쿼리</a><li><a href="/posts/09.%EB%A9%B4%EC%A0%91%EB%AC%B8%EC%A0%9C/">09. 면접문제</a><li><a href="/posts/14.%EB%B6%84%EC%84%9D%ED%95%A8%EC%88%98/">14. 분석함수</a><li><a href="/posts/07.%EA%B8%B0%EC%88%A0%EC%A0%81-%EB%AC%B8%EC%A0%9C/">07. 기술적 문제</a><li><a href="/posts/06.bigO/">06. big-O</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/sql/">sql</a> <a class="post-tag" href="/tags/software-engineering/">software_engineering</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/computer/">computer</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/http/">http</a> <a class="post-tag" href="/tags/infra/">infra</a> <a class="post-tag" href="/tags/tdd/">tdd</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/bufferedreader/">bufferedreader</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/13.%EC%A7%91%ED%95%A9-%EC%97%B0%EC%82%B0%EC%9E%90/"><div class="card-body"> <em class="timeago small" data-ts="1676382217" > 2023-02-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>13. 집합 연산자</h3><div class="text-muted small"><p> 집합 연산자는 데이터 집합을 연결한다는 점에서 조인과 유사하게 동작한다. 조인은 데이터 집합을 수직으로 연결하고, 집합 연산자는 데이터 집합을 수평으로 연결한다. 13.1 기본 문법 13.1.1 UNION ALL 연산자 UNION ALL 연산자는 데이터 집합을 수평으로 연결한다. 기술 순서대로 데이터 집합이 반환된다. 1 2 3 4 # t1 테...</p></div></div></a></div><div class="card"> <a href="/posts/14.%EB%B6%84%EC%84%9D%ED%95%A8%EC%88%98/"><div class="card-body"> <em class="timeago small" data-ts="1676638537" > 2023-02-17 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>14. 분석함수</h3><div class="text-muted small"><p> 분석함수는 집계 함수의 확장 기능으로 생각할 수 있다. 집계 함수는 행 그룹으로 값을 집계하고, 분석 함수는 파티션과 윈도우로 값을 집계한다. 집계 함수는 행 그룹 별로 단일 행을 반환하기 때문에 데이터 집합이 변경되지만, 분석 함수는 데이터 집합을 변경하지 않고 값을 집계한다. 데이터 집합이 변경되지 않기 때문에 원본 값과 집계 값을 함께 분석할 ...</p></div></div></a></div><div class="card"> <a href="/posts/1.%EB%8D%B0%EC%9D%B4%ED%84%B0/"><div class="card-body"> <em class="timeago small" data-ts="1669729642" > 2022-11-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>1. 데이터</h3><div class="text-muted small"><p> 1.1 데이터 데이터에 대한 정의 해석할 수 있는 의미를 가진 기호 정성적 또는 정량적 변수 값의 집합 숫자처럼 양으로 측정할 수 있는 데이터를 정량적, 텍스트나 이미지처럼 양으로 측정할 수 없는 데이터를 정성적 데이터라고 한다. 또 정량적 데이터는 구조화되어 저장되기 때문에 정형 데이터, 정성적 데이터는 비정형 데이터라고 부른다. SQL...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/11.%EC%A1%B0%EC%9D%B8/" class="btn btn-outline-primary" prompt="Older"><p>11. 조인</p></a> <a href="/posts/13.%EC%A7%91%ED%95%A9-%EC%97%B0%EC%82%B0%EC%9E%90/" class="btn btn-outline-primary" prompt="Newer"><p>13. 집합 연산자</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/imhyeon99494867">Lim Hyeonsu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/sql/">sql</a> <a class="post-tag" href="/tags/software-engineering/">software_engineering</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/computer/">computer</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/http/">http</a> <a class="post-tag" href="/tags/infra/">infra</a> <a class="post-tag" href="/tags/tdd/">tdd</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/bufferedreader/">bufferedreader</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
